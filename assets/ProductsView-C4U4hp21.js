import{a as h}from"./axios-L6U4YIEh.js";import{_ as g,c as n,a as e,F as i,e as u,n as c,f as d,o as l,t as o,d as f}from"./index-LjKqdEST.js";var p={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"colorgolden",BASE_URL:"/vue_week6_homework/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:m}=p,{VITE_PATH:v}=p,k={data(){return{temp:{},tempProduct:{},products:[],data_id:"",data_name:"",pages:{},newProduct:{is_enabled:1,imageUrl:"",imagesUrl:[""]}}},created(){this.getProducts()},methods:{getProducts(_=1){h.get(`${m}/v2/api/${v}/products?page=${_}`).then(s=>{this.products=s.data.products,this.pages=s.data.pagination}).catch(s=>{alert(s.data.message)})},mounted(){this.productModal=new bootstrap.Modal(this.$refs.modal,{show:!1})}}},b=e("hr",null,null,-1),w=e("h4",null,"產品列表",-1),y={class:"container"},P={class:"table mt-4"},x=e("thead",null,[e("tr",null,[e("th",{width:"120"}," 分類 "),e("th",null,"產品名稱"),e("th",{width:"120"}," 原價 "),e("th",{width:"120"}," 售價 ")])],-1),E={class:"text-end"},V={class:"text-end"},T=e("td",{style:{width:"10%"}},[e("button",{type:"button",class:"btn btn-outline-secondary"},[e("i",{class:"fas fa-spinner fa-pulse"}),f(" 查看更多 ")])],-1),C={"aria-label":"...",style:{display:"flex","justify-content":"center","align-items":"center"}},R={class:"pagination"},U=["onClick"];function B(_,s,D,I,a,r){return l(),n(i,null,[b,w,e("div",y,[e("table",P,[x,(l(!0),n(i,null,u(a.products,t=>(l(),n("tbody",{key:t.id},[e("tr",null,[e("td",null,o(t.category),1),e("td",null,o(t.title),1),e("td",E,o(t.origin_price),1),e("td",V,o(t.price),1),T])]))),128))]),e("nav",C,[e("ul",R,[e("li",{class:c(["page-item",{disabled:a.pages.has_pre==!1}])},[e("a",{class:"page-link",href:"#",onClick:s[0]||(s[0]=d(t=>r.getProducts(a.pages.current_page-1),["prevent"]))},"上一頁")],2),(l(!0),n(i,null,u(a.pages.total_pages,t=>(l(),n("li",{key:t+123,class:c(["page-item",{active:t===a.pages.current_page}])},[e("a",{class:"page-link",href:"#",onClick:d(L=>r.getProducts(t),["prevent"])},o(t),9,U)],2))),128)),e("li",{class:c(["page-item",{disabled:a.pages.has_next===!1}])},[e("a",{class:"page-link",href:"#",onClick:s[1]||(s[1]=d(t=>r.getProducts(a.pages.current_page+1),["prevent"]))},"下一頁")],2)])])])],64)}const A=g(k,[["render",B]]);export{A as default};
